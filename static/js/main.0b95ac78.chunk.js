(this["webpackJsonptable-tennis-tournament"]=this["webpackJsonptable-tennis-tournament"]||[]).push([[0],{27:function(e,n,t){},33:function(e,n,t){e.exports=t(48)},44:function(e,n,t){e.exports=t.p+"static/media/Quicksand-Medium.75365efd.ttf"},45:function(e,n,t){e.exports=t.p+"static/media/Quicksand-Regular.316c2321.ttf"},46:function(e,n,t){e.exports=t.p+"static/media/Signika-Regular.ba0080fa.ttf"},47:function(e,n,t){e.exports=t.p+"static/media/Signika-SemiBold.b355f4bd.ttf"},48:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(16),c=t.n(l),o=(t(26),t(27),t(54)),u=t(7),i=Object(u.a)(),s=function(){return r.a.createElement("header",{className:"mainHeader"},r.a.createElement("h1",null,"Table Tennis Tournament"))},m=t(13),p=t(8),d=t(50),f=t(52),y=t(51),E=t(53),h=function(e){var n=e.addPlayer,t=Object(a.useState)(""),l=Object(p.a)(t,2),c=l[0],o=l[1];return r.a.createElement(d.a,{className:"playerInput my-2"},r.a.createElement(f.a,null,r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter Names Here"),r.a.createElement(f.a.Control,{onChange:function(e){o(e.currentTarget.value)},value:c})),r.a.createElement(y.a,{className:"justify-content-center"},r.a.createElement(E.a,{onClick:function(e){e.preventDefault(),c&&n(c),o("")},variant:"primary",type:"submit"},"Add Name"))))},b=function(e){var n=e.players;return r.a.createElement(d.a,null,r.a.createElement("ul",{className:"playerList"},n.map((function(e,n){return r.a.createElement("li",{className:"playerListName",key:n},r.a.createElement("h4",null,e))}))))},v=function(e){var n=e.handleSubmit,t=Object(a.useState)([]),l=Object(p.a)(t,2),c=l[0],o=l[1];return r.a.createElement(d.a,null,r.a.createElement(h,{addPlayer:function(e){o([].concat(Object(m.a)(c),[e]))}}),r.a.createElement(b,{players:c}),r.a.createElement(y.a,{className:"justify-content-center"},c.length>=2?r.a.createElement(E.a,{onClick:function(){return n(c)}},"Start Tournament"):null))},O=t(11),S=Object(O.b)(null,(function(e){return{handleSubmit:function(n){e({type:"ADD_PLAYERS",playerList:n}),i.push("/tournament")}}}))(v),g=function(e){var n=e.p1Name,t=e.p2Name,l=e.display,c=e.submitScore,o={display:l},u=Object(a.useState)(0),i=Object(p.a)(u,2),s=i[0],m=i[1],y=Object(a.useState)(0),h=Object(p.a)(y,2),b=h[0],v=h[1],O=function(e,n){var t=e.currentTarget.valueAsNumber;"p1"===n?m(t):v(t),console.log(t),console.log(t)};return r.a.createElement(d.a,{className:"scoreForm",style:o},r.a.createElement(f.a,null,r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,{className:"text-light"},n," Score"),r.a.createElement(f.a.Control,{onChange:function(e){return O(e,"p1")},value:s,type:"number"})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,{className:"text-light"},t," Score"),r.a.createElement(f.a.Control,{onChange:function(e){return O(e,"p2")},value:b,type:"number"})),r.a.createElement(E.a,{onClick:function(){s>=21||b>=21?c(s,b):alert("One of the players must have scored at least 21 points to win")}},"Submit Score")))},j=function(e){var n=e.onWinnerClick,t=e.player1,l=e.player2,c=e.matchIndex,o=e.roundIndex,u=e.played,i=Object(a.useState)("none"),s=Object(p.a)(i,2),m=s[0],f=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{onClick:function(){return u?null:f("block")},className:"tournamentCard",style:u?{opacity:.5}:null},r.a.createElement("h4",null,t),r.a.createElement("h4",null,"VS"),r.a.createElement("h4",null,l)),r.a.createElement(g,{p1Name:t,p2Name:l,display:m,submitScore:function(e,t){return f("none"),n(c,o,e,t)}}))},N=function(e){var n=e.round,t=e.handleResult,a=e.roundIndex,l=e.roundTitle;return r.a.createElement(d.a,null,r.a.createElement("h3",null,l),r.a.createElement("div",{className:"cardWrapper"},n.map((function(e,n){return r.a.createElement(j,{onWinnerClick:t,played:e.played,key:n,roundIndex:a,matchIndex:n,player1:e.p1.name,player2:e.p2.name,player1ID:e.p1.id,player2ID:e.p2.id})}))))},x=Object(O.b)((function(e){return{rounds:e.rounds,players:e.players}}),(function(e){return{handleResult:function(n,t,a,r){e({type:"RESULT_ENTRY",matchIndex:n,roundIndex:t,p1Score:a,p2Score:r})}}}))((function(e){var n=e.rounds,t=e.handleResult,a=e.players.length;return r.a.createElement(d.a,{className:"tournamentWrapper"},n.map((function(e,l){var c=e.length,o="Round of ".concat(2*c);return c!==a/2&&l===n.length-1?o="Qualifiers":4===c?o="Quarter-finals":2===c?o="Semi-finals":1===c&&(o="Final"),r.a.createElement(N,{key:l,round:e,handleResult:t,roundIndex:l,roundTitle:o})})))})),w=function(e){var n=e.title,t=e.playerName;return r.a.createElement(d.a,{className:"resultCard"},r.a.createElement("h3",null,n),r.a.createElement("h3",null,t))},C=Object(O.b)((function(e){return{winner:e.winner,runnerUp:e.runnerUp}}))((function(e){var n=e.winner,t=e.runnerUp;return r.a.createElement(d.a,null,r.a.createElement(w,{title:"The Winner",playerName:n.name}),r.a.createElement(w,{title:"Runner-up",playerName:t.name}))}));var I=function(){return r.a.createElement(o.b,{history:i},r.a.createElement(s,null),r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(o.a,{path:"/tournament",component:x}),r.a.createElement(o.a,{exact:!0,path:"/results",component:C}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=t(19),k=t(5),R=function(e){if(!e.allMatchesPlayed||e.tournamentComplete)return Object(k.a)({},e);var n=0,t=[],a=e.players.filter((function(e){return!1===e.eliminated})),r=2,l=0,c=0,o=function e(n){return n>r?(l=r,r*=2,e(n)):c=n-r?n-l:0,c}(a.length);console.log("the number of active players is ".concat(a.length)),console.log("the excess result is ".concat(o));for(var u=o||a.length/2,i=0;i<u;i+=1)t.push({id:i+1,p1:a[n],p2:a[n+1],played:!1}),n+=2;return Object(k.a)({},e,{rounds:[t].concat(Object(m.a)(e.rounds)),allMatchesPlayed:!1})},_=function(e,n){switch(n.type){case"ADD_PLAYERS":return R(function(e){for(var n=e.players,t=n.length,a=0,r=0;t;)r=Math.floor(Math.random()*t--),a=n[t],n[t]=n[r],n[r]=a;return Object(k.a)({},e,{players:n})}(function(e,n){var t=n.playerList.map((function(e,n){return{id:n+1,name:e,wins:0,pointsWon:0,pointsConceded:0,eliminated:!1}}));return Object(k.a)({},e,{players:t})}(e,n)));case"RESULT_ENTRY":return function(e){var n=e.tournamentComplete,t=e.rounds,a=e.players;return n?function(){i.push("./results");var n=t[0][0],r=n.p1Score>n.p2Score?n.p1.id:n.p2.id,l=n.p1Score<n.p2Score?n.p1.id:n.p2.id;return Object(k.a)({},e,{winner:a.find((function(e){return e.id===r})),runnerUp:a.find((function(e){return e.id===l}))})}():e}(R(function(e){return e.rounds[0].find((function(e){return!e.played}))?Object(k.a)({},e):Object(k.a)({},e,{allMatchesPlayed:!0})}(function(e,n){var t=n.matchIndex,a=n.roundIndex,r=n.p1Score,l=n.p2Score,c=Object(m.a)(e.rounds);c[a][t]=Object(k.a)({},c[a][t],{played:!0,p1Score:r,p2Score:l});var o=r<l?e.players.findIndex((function(e){return e.id===c[a][t].p1.id})):e.players.findIndex((function(e){return e.id===c[a][t].p2.id})),u=r>l?e.players.findIndex((function(e){return e.id===c[a][t].p1.id})):e.players.findIndex((function(e){return e.id===c[a][t].p2.id}));console.log("Player 1 scored ".concat(r," points")),console.log("Player 2 scored ".concat(l," points")),console.log("The winner index is ".concat(u)),console.log("The loser index is ".concat(o));var i=Object(m.a)(e.players);i[o]=Object(k.a)({},i[o],{eliminated:!0,pointsWon:i[u].pointsWon+r<l?r:l,pointsConceded:i[u].pointsConceded+r>l?r:l}),i[u]=Object(k.a)({},i[u],{wins:i[u].wins+1,pointsWon:i[u].pointsWon+r>l?r:l,pointsConceded:i[u].pointsConceded+r<l?r:l});var s=1===i.filter((function(e){return!e.eliminated})).length;return Object(k.a)({},e,{rounds:c,players:i,tournamentComplete:s})}(e,n))));default:return e}},L=(t(44),t(45),t(46),t(47),Object(T.b)(_,{players:[],rounds:[],allMatchesPlayed:!0,tournamentComplete:!1,winner:{},runnerUp:{}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(O.a,{store:L},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.0b95ac78.chunk.js.map